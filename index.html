<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trò Chơi Giải Ô Chữ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f8ff;
            text-align: center;
            position: relative; /* Thêm để video chia sẻ màn hình hiển thị chính xác */
        }

        .container {
            margin-top: 50px;
        }

        table {
            margin: 0 auto;
            border-collapse: collapse;
        }

        td {
            width: 50px;
            height: 50px;
            text-align: center;
            border: none;
        }

        input {
            width: 48px;
            height: 48px;
            text-align: center;
            font-size: 24px;
            border: 1px solid #000;
            outline: none;
        }

        input.hidden {
            visibility: hidden;
        }

        .hint {
            margin-top: 20px;
            font-size: 18px;
            color: #333;
        }

        .button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 16px;
            margin-top: 20px;
        }

        .button:hover {
            background-color: #45a049;
        }

        /* Style for the shared screen video */
        #sharedScreenVideo {
            position: absolute;
            bottom: 10px;
            right: 10px;
            width: 300px; /* Increased width for better visibility */
            height: auto;
            border: 2px solid #000;
            z-index: 1000; /* Ensure it's on top */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>TRÒ CHƠI SIÊU Ô CHỮ</h1>
        <table>
            <tr>
                <td><input type="text" id="1_1" maxlength="1" class="hidden"></td>
                <td><input type="text" id="1_2" maxlength="1" class="hidden"></td>
                <td><input type="text" id="1_3" maxlength="1" class="hidden"></td>
                <td><input type="text" id="1_4" maxlength="1"></td>
                <td><input type="text" id="1_5" maxlength="1"></td>
                <td><input type="text" id="1_6" maxlength="1"></td>
                <td><input type="text" id="1_7" maxlength="1"></td>
                <td><input type="text" id="1_8" maxlength="1"></td>
                <td><input type="text" id="1_9" maxlength="1" class="hidden"></td>
                <td><input type="text" id="1_10" maxlength="1" class="hidden"></td>
                <td><input type="text" id="1_11" maxlength="1" class="hidden"></td>
            </tr>
            <tr>
                <td><input type="text" id="2_1" maxlength="1" class="hidden"></td>
                <td><input type="text" id="2_2" maxlength="1"></td>
                <td><input type="text" id="2_3" maxlength="1"></td>
                <td><input type="text" id="2_4" maxlength="1"></td>
                <td><input type="text" id="2_5" maxlength="1"></td>
                <td><input type="text" id="2_6" maxlength="1"></td>
                <td><input type="text" id="2_7" maxlength="1"></td>
                <td><input type="text" id="2_8" maxlength="1" class="hidden"></td>
                <td><input type="text" id="2_9" maxlength="1" class="hidden"></td>
                <td><input type="text" id="2_10" maxlength="1" class="hidden"></td>
                <td><input type="text" id="2_11" maxlength="1" class="hidden"></td>
            </tr>
            <tr>
                <td><input type="text" id="3_1" maxlength="1" class="hidden"></td>
                <td><input type="text" id="3_2" maxlength="1"></td>
                <td><input type="text" id="3_3" maxlength="1"></td>
                <td><input type="text" id="3_4" maxlength="1"></td>
                <td><input type="text" id="3_5" maxlength="1"></td>
                <td><input type="text" id="3_6" maxlength="1"></td>
                <td><input type="text" id="3_7" maxlength="1"></td>
                <td><input type="text" id="3_8" maxlength="1"></td>
                <td><input type="text" id="3_9" maxlength="1"></td>
                <td><input type="text" id="3_10" maxlength="1"></td>
                <td><input type="text" id="3_11" maxlength="1" class="hidden"></td>
            </tr>
            <tr>
                <td><input type="text" id="4_1" maxlength="1" class="hidden"></td>
                <td><input type="text" id="4_2" maxlength="1" class="hidden"></td>
                <td><input type="text" id="4_3" maxlength="1"></td>
                <td><input type="text" id="4_4" maxlength="1"></td>
                <td><input type="text" id="4_5" maxlength="1"></td>
                <td><input type="text" id="4_6" maxlength="1"></td>
                <td><input type="text" id="4_7" maxlength="1"></td>
                <td><input type="text" id="4_8" maxlength="1"></td>
                <td><input type="text" id="4_9" maxlength="1"></td>
                <td><input type="text" id="4_10" maxlength="1"></td>
                <td><input type="text" id="4_11" maxlength="1" class="hidden"></td>
            </tr>
            <tr>
                <td><input type="text" id="5_1" maxlength="1" class="hidden"></td>
                <td><input type="text" id="5_2" maxlength="1" class="hidden"></td>
                <td><input type="text" id="5_3" maxlength="1" class="hidden"></td>
                <td><input type="text" id="5_4" maxlength="1" class="hidden"></td>
                <td><input type="text" id="5_5" maxlength="1" class="hidden"></td>
                <td><input type="text" id="5_6" maxlength="1"></td>
                <td><input type="text" id="5_7" maxlength="1"></td>
                <td><input type="text" id="5_8" maxlength="1"></td>
                <td><input type="text" id="5_9" maxlength="1"></td>
                <td><input type="text" id="5_10" maxlength="1"></td>
                <td><input type="text" id="5_11" maxlength="1"></td>
            </tr>
            <tr>
                <td><input type="text" id="6_1" maxlength="1" class="hidden"></td>
                <td><input type="text" id="6_2" maxlength="1" class="hidden"></td>
                <td><input type="text" id="6_3" maxlength="1" class="hidden"></td>
                <td><input type="text" id="6_4" maxlength="1"></td>
                <td><input type="text" id="6_5" maxlength="1"></td>
                <td><input type="text" id="6_6" maxlength="1"></td>
                <td><input type="text" id="6_7" maxlength="1"></td>
                <td><input type="text" id="6_8" maxlength="1"></td>
                <td><input type="text" id="6_9" maxlength="1"></td>
                <td><input type="text" id="6_10" maxlength="1"></td>
                <td><input type="text" id="6_11" maxlength="1"></td>
            </tr>
            <tr>
                <td><input type="text" id="7_1" maxlength="1" class="hidden"></td>
                <td><input type="text" id="7_2" maxlength="1" class="hidden"></td>
                <td><input type="text" id="7_3" maxlength="1" class="hidden"></td>
                <td><input type="text" id="7_4" maxlength="1"></td>
                <td><input type="text" id="7_5" maxlength="1"></td>
                <td><input type="text" id="7_6" maxlength="1"></td>
                <td><input type="text" id="7_7" maxlength="1"></td>
                <td><input type="text" id="7_8" maxlength="1"></td>
                <td><input type="text" id="7_9" maxlength="1"></td>
                <td><input type="text" id="7_10" maxlength="1"></td>
                <td><input type="text" id="7_11" maxlength="1" class="hidden"></td>
            </tr>
        </table>

        <div class="hint">
            <p>Creator: Your Teacher's Husband</p>
        </div>

        <button class="button" onclick="checkAnswer()">Kiểm Tra</button>
        <button class="button" onclick="solveRow()">Giải</button>
        <button class="button" onclick="startScreenShare()">Chia sẻ màn hình</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        let currentRow = 1;
        const answers = {
            1: ["", "", "", "T", "U", "T", "I", "N", "", "", ""],
            2: ["", "G", "I", "U", "G", "I", "N", "", "", "", ""],
            3: ["", "T", "R", "U", "O", "N", "G", "H", "O", "C", ""],
            4: ["", "", "H", "A", "N", "H", "P", "H", "U", "C", ""],
            5: ["", "", "", "", "", "B", "A", "O", "L", "U", "C"],
            6: ["", "", "", "H", "O", "A", "T", "D", "O", "N", "G"],
            7: ["", "", "", "V", "A", "N", "N", "G", "H", "E", ""]
        };

        function solveRow() {
            if (currentRow <= 7) {
                const row = answers[currentRow];
                for (let col = 1; col <= 11; col++) {
                    const inputId = `${currentRow}_${col}`;
                    const input = document.getElementById(inputId);
                    if (input && !input.classList.contains("hidden")) {
                        input.value = row[col - 1];
                    }
                }
                currentRow++;
            } else {
                Swal.fire({
                    icon: 'info',
                    title: 'Hoàn thành!',
                    text: 'Đã giải xong!'
                });
            }
        }

        function checkAnswer() {
            const correctAnswer = "TINHBAN";
            let isCorrect = false;
            for (let col = 1; col <= 11; col++) {
                let columnAnswer = "";
                for (let row = 1; row <= 7; row++) {
                    const input = document.getElementById(`${row}_${col}`);
                    if (!input.classList.contains("hidden")) {
                        columnAnswer += input.value.toUpperCase();
                    }
                }
                if (columnAnswer === correctAnswer) {
                    isCorrect = true;
                    break;
                }
            }

            if (isCorrect) {
                Swal.fire({
                    icon: 'success',
                    title: 'Chúc mừng!',
                    text: 'Bạn đã giải đúng từ khóa: TÌNH BẠN.'
                });
            } else {
                Swal.fire({
                    icon: 'error',
                    title: 'Đáp án chưa chính xác.',
                    text: 'Hãy thử lại!'
                });
            }
        }

        async function startScreenShare() {
            try {
                const stream = await navigator.mediaDevices.getDisplayMedia({ video: {cursor: "always"} }); //Show cursor
                const videoElement = document.createElement("video");
                videoElement.id = "sharedScreenVideo"; //Give it an ID for styling
                videoElement.srcObject = stream;
                videoElement.autoplay = true; //Autoplay the video
                document.body.appendChild(videoElement);
            } catch (error) {
                Swal.fire({
                    icon: 'error',
                    title: 'Lỗi chia sẻ màn hình',
                    text: 'Vui lòng kiểm tra quyền truy cập hoặc trình duyệt của bạn.'
                });
                console.error("Không thể chia sẻ màn hình:", error);
            }
        }
    </script>
</body>
</html>
